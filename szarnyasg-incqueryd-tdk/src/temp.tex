\chapter{Cypher queries for the TrainBenchmark}
\label{cypherqueries}


\begin{lstlisting}[caption=Cypher query for the PosLength test case, label=lst:, breaklines=true]
START n=node:node_auto_index(type="Segment")
WHERE n.Segment_length <= 0
RETURN n
\end{lstlisting}

\begin{lstlisting}[caption=Cypher query for the RouteSensor test case, label=lst:, breaklines=true]
START sensor=node:node_auto_index(type="Sensor")
MATCH sensor-[:TRACKELEMENT_SENSOR]-switch-[:SWITCHPOSITION_SWITCH]-switchPosition-[:ROUTE_SWITCHPOSITION]-route-[r?:ROUTE_ROUTEDEFINITION]-sensor
WHERE r IS NULL
RETURN sensor
\end{lstlisting}

\begin{lstlisting}[caption=Cypher query for the SignalNeighbor test case, label=lst:, breaklines=true]
START route1=node(*)
MATCH
  route1-[:ROUTE_ROUTEDEFINITION]->sensor1
, sensor1-[:TRACKELEMENT_SENSOR]-trackElement1
, trackElement1-[:TRACKELEMENT_CONNECTSTO]->trackElement2
, trackElement2-[:TRACKELEMENT_SENSOR]-sensor2
, route1-[:ROUTE_EXIT]->signal
, sensor2<-[:ROUTE_ROUTEDEFINITION]-route2X
, sensor2<-[r?:ROUTE_ROUTEDEFINITION]-route2-[q?:ROUTE_ENTRY]->signal
WHERE 1=1
  AND HAS(route1.type)
  AND route1.type = "Route"
  AND route1 <> route2X
  AND (r IS NULL AND q IS NULL)
RETURN DISTINCT route1
\end{lstlisting}

\begin{lstlisting}[caption=Cypher query for the SwitchSensor test case, label=lst:, breaklines=true]
START n=node:node_auto_index(type="Switch")
MATCH n-[r?:TRACKELEMENT_SENSOR]->m
WHERE r IS NULL
RETURN n
\end{lstlisting}
