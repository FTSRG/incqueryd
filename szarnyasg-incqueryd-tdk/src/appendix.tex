\appendix

\chapter{Graph formats}

In this chapter, we provide examples for the different graph formats, including property graphs and RDF graphs. The examples describe a small instance model based on the \tb{}'s metamodel, shown on \figref{trainbenchmark-instancemodel-subgraph}.

\myFigureSmall{trainbenchmark-instancemodel-subgraph}{An example graph based on the \tb{}'s metamodel}

\section{Property graph formats}
\label{sec:property-graph-formats}

\subsection{GraphML}
%\section{GraphML}

%     <node id="0">
%       <data key="type">root</data>
%     </node>
\lstset{language=XML,breaklines=true}
\begin{lstlisting}[caption=A graph based on the \tb{}'s metamodel stored in \graphml{} format]
<?xml version="1.0" encoding="UTF-8"?>
<graphml xmlns="http://graphml.graphdrawing.org/xmlns" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns http://graphml.graphdrawing.org/xmlns/1.1/graphml.xsd">
  <key id="id" for="node" attr.name="id" attr.type="int" />
  <key id="type" for="node" attr.name="type" attr.type="string" />
  <graph id="G" edgedefault="directed">
    <node id="1">
      <data key="id">0</data>
      <data key="type">Sensor</data>
    </node>
    <node id="2">
      <data key="id">1</data>
      <data key="type">Route</data>
    </node>
    <node id="3">
      <data key="id">2</data>
      <data key="type">SwitchPosition</data>
    </node>
    <node id="4">
      <data key="id">3</data>
      <data key="type">Switch</data>
    </node>
    <edge id="0" source="2" target="1" label="ROUTE_ROUTEDEFINITION" />
    <edge id="1" source="2" target="3" label="ROUTE_SWITCHPOSITION" />
    <edge id="2" source="3" target="4" label="SWITCHPOSITION_SWITCH" />
    <edge id="3" source="4" target="1" label="TRACKELEMENT_SENSOR" />
  </graph>
</graphml>
\end{lstlisting}

\subsection{Blueprints GraphSON}
%\section{Blueprints GraphSON}

%     {
%       "type":"root",
%       "_id":0,
%       "_type":"vertex"
%     },
%  "mode":"NORMAL",
\lstset{language=json,firstnumber=1}
\begin{lstlisting}[caption=A graph based on the \tb{}'s metamodel stored in Blueprints \graphson{} format]
{
  "vertices":[
    {
      "id":0,
      "type":"Sensor",
      "_id":1,
      "_type":"vertex"
    },
    {
      "id":1,
      "type":"Route",
      "_id":2,
      "_type":"vertex"
    },
    {
      "id":2,
      "type":"SwitchPosition",
      "_id":3,
      "_type":"vertex"
    },
    {
      "id":3,
      "type":"Switch",
      "_id":4,
      "_type":"vertex"
    }
  ],
  "edges":[
    {
      "_id":0,
      "_type":"edge",
      "_outV":2,
      "_inV":1,
      "_label":"ROUTE_ROUTEDEFINITION"
    },
    {
      "_id":1,
      "_type":"edge",
      "_outV":2,
      "_inV":3,
      "_label":"ROUTE_SWITCHPOSITION"
    },
    {
      "_id":2,
      "_type":"edge",
      "_outV":3,
      "_inV":4,
      "_label":"SWITCHPOSITION_SWITCH"
    },
    {
      "_id":3,
      "_type":"edge",
      "_outV":4,
      "_inV":1,
      "_label":"TRACKELEMENT_SENSOR"
    }
  ]
}
\end{lstlisting}

\subsection{Faunus GraphSON}
%\section{Faunus GraphSON}

%{"type":"root","_id":0,"_outE":[],"_inE":[]}
\begin{lstlisting}[caption=A graph based on the \tb{}'s metamodel stored in Faunus \graphson{} format]
{"id":0,"type":"Sensor","_id":1,"_outE":[],"_inE":[{"_id":0,"_outV":2,"_label":"ROUTE_ROUTEDEFINITION"},{"_id":3,"_outV":4,"_label":"TRACKELEMENT_SENSOR"}]}
{"id":1,"type":"Route","_id":2,"_outE":[{"_id":0,"_inV":1,"_label":"ROUTE_ROUTEDEFINITION"},{"_id":1,"_inV":3,"_label":"ROUTE_SWITCHPOSITION"}],"_inE":[]}
{"id":2,"type":"SwitchPosition","_id":3,"_outE":[{"_id":2,"_inV":4,"_label":"SWITCHPOSITION_SWITCH"}],"_inE":[{"_id":1,"_outV":2,"_label":"ROUTE_SWITCHPOSITION"}]}
{"id":3,"type":"Switch","_id":4,"_outE":[{"_id":3,"_inV":1,"_label":"TRACKELEMENT_SENSOR"}],"_inE":[{"_id":2,"_outV":3,"_label":"SWITCHPOSITION_SWITCH"}]}
\end{lstlisting}

\section{Semantic graph formats}

\subsection{RDF}

\lstset{language=XML,breaklines=true}
\begin{lstlisting}[caption=A graph based on the \tb{}'s metamodel stored in RDF format. Note that the identifiers are slightly different from the property graph's ids in \autoref{sec:property-graph-formats}.]
<?xml version="1.0" encoding="UTF-8"?>
<rdf:RDF
	xmlns="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#"
	xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:swrl="http://www.w3.org/2003/11/swrl#"
	xmlns:swrlb="http://www.w3.org/2003/11/swrlb#"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
	xmlns:owl="http://www.w3.org/2002/07/owl#"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl">
	<rdf:type rdf:resource="http://www.w3.org/2002/07/owl#Ontology"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#Segment">
	<rdf:type rdf:resource="http://www.w3.org/2002/07/owl#Class"/>
	<rdfs:subClassOf rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#Trackelement"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#Switch">
	<rdf:type rdf:resource="http://www.w3.org/2002/07/owl#Class"/>
	<rdfs:subClassOf rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#Trackelement"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#1">
	<rdf:type rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#Sensor"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#2">
	<rdf:type rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#Route"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#3">
	<rdf:type rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#Switch"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#4">
	<rdf:type rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#SwitchPosition"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#3">
	<TrackElement_sensor rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#1"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#4">
	<SwitchPosition_switch rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#3"/>
</rdf:Description>

<rdf:Description rdf:about="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#2">
	<Route_routeDefinition rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#1"/>
	<Route_switchPosition rdf:resource="http://www.semanticweb.org/ontologies/2011/1/TrainRequirementOntology.owl#4"/>
</rdf:Description>

</rdf:RDF>
\end{lstlisting}
